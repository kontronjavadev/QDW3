<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="jakarta.faces.facelets"
	xmlns:h="jakarta.faces.html"
	xmlns:f="jakarta.faces.core"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/ui.xhtml">

<f:metadata>
	<f:viewAction action="#{viewTraceBoMDialog.initView()}"/>
	<f:viewParam name="selectedObjectId" value="#{viewTraceBoMDialog.selectedObjectId}"/>
</f:metadata>

<ui:define name="title">#{viewTraceBoMDialog.formTitle}</ui:define>

<ui:define name="content">
	<p:dialog header="#{i18n.feedback_dialog_header}" modal="true" widgetVar="msgBox" visible="#{(not empty facesContext.messageList)}">
		<p:messages id="messages" showDetail="true" showSummary="true"/>
	</p:dialog>

	<h:panelGrid columns="3">
		<div class="pi pi-file" style="font-size: 2em"/>
		<h:outputText id="lblFormTitle" value="&#160;#{viewTraceBoMDialog.formTitle}" styleClass="label-form-title"/>
		<p:ajaxStatus style="width:16px;height:16px;">
			<f:facet name="start">
				<h:graphicImage value="/images/ajaxloading.gif"/>
			</f:facet>

			<f:facet name="complete">
				<h:outputText value=""/>
			</f:facet>
		</p:ajaxStatus>
	</h:panelGrid>

	<p:tabView id="tabview1" dynamic="true" effect="fade" effectDuration="fast">
	<p:tab id="tabPanTraceBoM" title="#{i18n.panel_basic_title}">
	<h:panelGrid columns="6">

		<h:outputLabel value="#{i18n.field_viewtracebomdialog_cbomaterialrevisionmaterial}:" rendered="#{userSession.checkAuthorizationString('ADMINISTRATOR;READONLY;SUPERUSER')}" for="cboMaterialRevisionMaterial" styleClass="label-field-optional"/>
		<p:commandLink rendered="#{userSession.checkAuthorizationString('ADMINISTRATOR;READONLY;SUPERUSER')}" id="cboMaterialRevisionMaterial" style="font-weight: bold;color: #0063ac" action="#{viewTraceBoMDialog.openViewMaterialDialogLink}">
			<f:setPropertyActionListener target="#{userSession.lastPage}" value="#{viewTraceBoMDialog.currentPageURL}"/>
			<h:outputText value="#{viewTraceBoMDialog.traceBoM.materialRevisionMaterial.materialNumber}"/>
		</p:commandLink>
		<h:outputLabel value="#{i18n.field_viewtracebomdialog_cbomaterialrevisionmaterial}:" rendered="#{!userSession.checkAuthorizationString('ADMINISTRATOR;READONLY;SUPERUSER')}" for="cboMaterialRevisionMaterialAltLbl" styleClass="label-field-optional"/>
		<h:outputText styleClass="label-field-value" rendered="#{!userSession.checkAuthorizationString('ADMINISTRATOR;READONLY;SUPERUSER')}" id="cboMaterialRevisionMaterialAltLbl" value="#{viewTraceBoMDialog.traceBoM.materialRevisionMaterial.materialNumber}"/>
		<p:tooltip for="cboMaterialRevisionMaterial" value=""/>

		<h:outputLabel value="#{i18n.field_viewtracebomdialog_txtmaterialsapnumber}:" for="txtMaterialSapNumber" styleClass="label-field-optional"/>
		<p:inputText id="txtMaterialSapNumber" value="#{viewTraceBoMDialog.traceBoM.materialSapNumber}" readonly="true">
		</p:inputText>
		<p:tooltip for="txtMaterialSapNumber" value=""/>

		<h:outputLabel value="#{i18n.lbl_attr_material_shorttext}:" for="txtMaterialShortText" styleClass="label-field-optional"/>
		<p:inputText id="txtMaterialShortText" value="#{viewTraceBoMDialog.traceBoM.materialShortText}" readonly="true">
		</p:inputText>
		<p:tooltip for="txtMaterialShortText" value=""/>
		<h:outputLabel/>
		<h:outputLabel/>
		<h:outputLabel/>

		<h:outputLabel value="#{i18n.field_viewtracebomdialog_cbomaterialrevision}:" rendered="#{userSession.checkAuthorizationString('ADMINISTRATOR;READONLY;SUPERUSER')}" for="cboMaterialRevision" styleClass="label-field-optional"/>
		<p:commandLink rendered="#{userSession.checkAuthorizationString('ADMINISTRATOR;READONLY;SUPERUSER')}" id="cboMaterialRevision" style="font-weight: bold;color: #0063ac" action="#{viewTraceBoMDialog.openViewMaterialRevisionDialogLink}">
			<f:setPropertyActionListener target="#{userSession.lastPage}" value="#{viewTraceBoMDialog.currentPageURL}"/>
			<h:outputText value="#{viewTraceBoMDialog.traceBoM.materialRevision.id}"/>
		</p:commandLink>
		<h:outputLabel value="#{i18n.field_viewtracebomdialog_cbomaterialrevision}:" rendered="#{!userSession.checkAuthorizationString('ADMINISTRATOR;READONLY;SUPERUSER')}" for="cboMaterialRevisionAltLbl" styleClass="label-field-optional"/>
		<h:outputText styleClass="label-field-value" rendered="#{!userSession.checkAuthorizationString('ADMINISTRATOR;READONLY;SUPERUSER')}" id="cboMaterialRevisionAltLbl" value="#{viewTraceBoMDialog.traceBoM.materialRevision.id}"/>
		<p:tooltip for="cboMaterialRevision" value=""/>
		<h:outputLabel/>
		<h:outputLabel/>
		<h:outputLabel/>

		<h:outputLabel value="#{i18n.lbl_assoc_tracebom_supplier}:" rendered="#{userSession.checkAuthorizationString('ADMINISTRATOR')}" for="cboSupplier" styleClass="label-field-optional"/>
		<p:commandLink rendered="#{userSession.checkAuthorizationString('ADMINISTRATOR')}" id="cboSupplier" style="font-weight: bold;color: #0063ac" action="#{viewTraceBoMDialog.openViewSupplierDialogLink}">
			<f:setPropertyActionListener target="#{userSession.lastPage}" value="#{viewTraceBoMDialog.currentPageURL}"/>
			<h:outputText value="#{viewTraceBoMDialog.traceBoM.supplier.name}"/>
		</p:commandLink>
		<h:outputLabel value="#{i18n.lbl_assoc_tracebom_supplier}:" rendered="#{!userSession.checkAuthorizationString('ADMINISTRATOR')}" for="cboSupplierAltLbl" styleClass="label-field-optional"/>
		<h:outputText styleClass="label-field-value" rendered="#{!userSession.checkAuthorizationString('ADMINISTRATOR')}" id="cboSupplierAltLbl" value="#{viewTraceBoMDialog.traceBoM.supplier.name}"/>
		<p:tooltip for="cboSupplier" value=""/>
		<h:outputLabel/>
		<h:outputLabel/>
		<h:outputLabel/>

		<h:outputLabel value="#{i18n.lbl_attr_tracebom_ordernumber}:" for="txtOrderNumber" styleClass="label-field-optional"/>
		<p:inputText id="txtOrderNumber" value="#{viewTraceBoMDialog.traceBoM.orderNumber}" readonly="true">
		</p:inputText>
		<p:tooltip for="txtOrderNumber" value=""/>

		<h:outputLabel value="#{i18n.lbl_attr_tracebom_deliverynotenumber}:" for="txtDeliveryNoteNumber" styleClass="label-field-optional"/>
		<p:inputText id="txtDeliveryNoteNumber" value="#{viewTraceBoMDialog.traceBoM.deliveryNoteNumber}" readonly="true">
		</p:inputText>
		<p:tooltip for="txtDeliveryNoteNumber" value=""/>

		<h:outputLabel value="#{i18n.lbl_attr_tracebom_productiondate}:" for="txtProductionDate" styleClass="label-field-optional"/>
		<p:inputText id="txtProductionDate" value="#{viewTraceBoMDialog.traceBoM.productionDate}" readonly="true">
			<f:converter converterId="net.sourceforge.jbizmo.commons.webclient.primefaces.converter.LocalDateConverter"/>
			<f:attribute name="pattern" value="#{userSession.dateFormat}"/>
			<f:attribute name="timeZone" value="#{userSession.timeZone}"/>
		</p:inputText>
		<p:tooltip for="txtProductionDate" value=""/>

		<h:outputLabel value="#{i18n.lbl_attr_tracebom_lotnumber}:" for="txtLotNumber" styleClass="label-field-optional"/>
		<p:inputText id="txtLotNumber" value="#{viewTraceBoMDialog.traceBoM.lotNumber}" readonly="true">
		</p:inputText>
		<p:tooltip for="txtLotNumber" value=""/>

	</h:panelGrid>
	</p:tab>
	<p:tab id="tabPanAdministration" title="#{i18n.panel_admin_title}">
	<h:panelGrid columns="3">

		<h:outputLabel value="#{i18n.lbl_attr_abstractentitywithid_id}:" for="txtId" styleClass="label-field-optional"/>
		<p:inputText id="txtId" value="#{viewTraceBoMDialog.traceBoM.id}" readonly="true">
		</p:inputText>
		<p:tooltip for="txtId" value=""/>

		<h:outputLabel value="#{i18n.lbl_attr_abstractentitywithid_version}:" for="txtVersion" styleClass="label-field-optional"/>
		<p:inputText id="txtVersion" value="#{viewTraceBoMDialog.traceBoM.version}" readonly="true">
		</p:inputText>
		<p:tooltip for="txtVersion" value=""/>

		<h:outputLabel value="#{i18n.lbl_attr_abstractentitywithid_creationdate}:" for="txtCreationDate" styleClass="label-field-optional"/>
		<p:inputText id="txtCreationDate" value="#{viewTraceBoMDialog.traceBoM.creationDate}" readonly="true">
			<f:converter converterId="net.sourceforge.jbizmo.commons.webclient.primefaces.converter.LocalDateTimeConverter"/>
			<f:attribute name="pattern" value="#{userSession.dateTimeFormat}"/>
			<f:attribute name="timeZone" value="#{userSession.timeZone}"/>
		</p:inputText>
		<p:tooltip for="txtCreationDate" value=""/>

		<h:outputLabel value="#{i18n.lbl_attr_abstractentitywithid_lastupdate}:" for="txtLastUpdate" styleClass="label-field-optional"/>
		<p:inputText id="txtLastUpdate" value="#{viewTraceBoMDialog.traceBoM.lastUpdate}" readonly="true">
			<f:converter converterId="net.sourceforge.jbizmo.commons.webclient.primefaces.converter.LocalDateTimeConverter"/>
			<f:attribute name="pattern" value="#{userSession.dateTimeFormat}"/>
			<f:attribute name="timeZone" value="#{userSession.timeZone}"/>
		</p:inputText>
		<p:tooltip for="txtLastUpdate" value=""/>

	</h:panelGrid>
	</p:tab>
	</p:tabView>

	<p/>

	<p:tabView id="tabview2" dynamic="true" effect="fade" effectDuration="fast">
	<p:tab id="tabPanTraceBoMItems" title="#{i18n.panel_viewtracebomdialog_pantracebomitems_title}">
	<h:panelGrid columns="1">

		<ui:include src="panel/TraceBoMTraceBoMItemsPanel.xhtml"/>

	</h:panelGrid>
	</p:tab>
	<p:tab id="tabPanIllegalTraceBoMItems" title="#{i18n.panel_viewtracebomdialog_panillegaltracebomitems_title}">
	<h:panelGrid columns="1">

		<ui:include src="panel/TraceBoMIllegalTraceBoMItemsPanel.xhtml"/>

	</h:panelGrid>
	</p:tab>
	</p:tabView>


	<h:panelGrid columns="1">
		<p:commandButton id="cmdBack" icon="pi pi-caret-left" value="#{i18n.command_back}" action="#{userSession.getLastPage}" immediate="true" ajax="false"/>
	</h:panelGrid>

	<p:defaultCommand target=":form:cmdBack"/>

</ui:define>
</ui:composition>
